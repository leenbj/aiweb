# ==========================================
# AI 网站构建器环境配置模板
# ==========================================
# 复制此文件为 backend/.env 并根据需要修改配置

# ==========================================
# 数据库配置
# ==========================================
DATABASE_URL=postgresql://ai_builder:ai_builder_pass@localhost:5432/ai_website_builder

# ==========================================
# JWT 安全配置
# ==========================================
JWT_SECRET=your-super-secure-jwt-secret-key-change-this-in-production-32-chars
JWT_EXPIRES_IN=7d

# ==========================================
# 服务器基础配置
# ==========================================
NODE_ENV=development
PORT=3001
CORS_ORIGIN=http://localhost:3000

# ==========================================
# AI 服务配置
# ==========================================
# 默认 AI 提供商 (deepseek/openai/anthropic)
DEFAULT_AI_PROVIDER=deepseek

# DeepSeek 配置 (推荐，成本低)
DEEPSEEK_API_KEY=your-deepseek-api-key-here
DEEPSEEK_MODEL=deepseek-chat
DEEPSEEK_BASE_URL=https://api.deepseek.com/v1

# OpenAI 配置 (备选)
OPENAI_API_KEY=your-openai-api-key-here
OPENAI_MODEL=gpt-3.5-turbo
OPENAI_BASE_URL=https://api.openai.com/v1

# Anthropic Claude 配置 (备选)
ANTHROPIC_API_KEY=your-anthropic-api-key-here
ANTHROPIC_MODEL=claude-3-sonnet-20240229
ANTHROPIC_BASE_URL=https://api.anthropic.com

# ==========================================
# 文件上传配置
# ==========================================
UPLOAD_PATH=./uploads
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=.jpg,.jpeg,.png,.gif,.webp,.svg,.pdf,.zip

# ==========================================
# 网站部署配置
# ==========================================
WEBSITES_PATH=./websites
NGINX_SITES_PATH=/etc/nginx/sites-available
NGINX_SITES_ENABLED_PATH=/etc/nginx/sites-enabled
SSL_CERTIFICATES_PATH=/etc/letsencrypt/live

# 本地开发域名
DEFAULT_DOMAIN=localhost

# 生产服务器配置 (部署时填写)
SERVER_DOMAIN=your-server-domain.com
SERVER_IP=your-server-ip-address

# ==========================================
# WebSocket 配置
# ==========================================
WS_PORT=3002
WS_HEARTBEAT_INTERVAL=30000
WS_MAX_CONNECTIONS=100

# ==========================================
# 安全与限流配置
# ==========================================
BCRYPT_ROUNDS=12
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# 加密密钥 (32 字符)
ENCRYPTION_KEY=your-32-character-encryption-key-here

# ==========================================
# 日志配置
# ==========================================
LOG_LEVEL=info
LOG_FILE=./logs/app.log
LOG_TO_CONSOLE=true

# ==========================================
# 开发环境配置
# ==========================================
DEBUG=false
ENABLE_API_DOCS=true
DETAILED_ERRORS=true
HOT_RELOAD=true

# ==========================================
# 备份配置
# ==========================================
BACKUP_INTERVAL=24
BACKUP_RETENTION_DAYS=30
BACKUP_PATH=./backups

# ==========================================
# 监控配置 (可选)
# ==========================================
ENABLE_MONITORING=false
MONITORING_ENDPOINT=
ERROR_REPORTING_ENDPOINT=

# ==========================================
# 邮件配置 (可选)
# ==========================================
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
SMTP_FROM=noreply@your-domain.com